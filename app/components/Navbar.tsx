'use client';

import { useState } from 'react';
import { Button } from '@nextui-org/button';
import Image from 'next/image';
import {
    NavbarBrand,
    NavbarContent,
    NavbarItem,
    NavbarMenu,
    NavbarMenuItem,
    NavbarMenuToggle,
    Navbar as NextUINavbar
} from '@nextui-org/navbar';
import { Link } from '@nextui-org/react';
import SavantLogo from '../../public/savant_brain.jpeg';
import { MENU_ITEMS as menuItems } from '../constants';

interface NavbarProps {
    menuItems: { name: string; route: string }[];
    pageSelected: string;
}

export default function Navbar(props: NavbarProps) {
    const [isMenuOpen, setIsMenuOpen] = useState(false);

    return (
        <NextUINavbar
            maxWidth="full"
            classNames={{ wrapper: 'gap-6' }}
            isMenuOpen={isMenuOpen}
            onMenuOpenChange={setIsMenuOpen}
        >
            <NavbarContent className="data-[justify=start]:flex-grow-0">
                <NavbarMenuToggle
                    aria-label={isMenuOpen ? 'Close menu' : 'Open menu'}
                    className="md:hidden"
                />
                <NavbarBrand className="gap-2">
                    <Link href="/savant">
                        {/* <Image src={SavantLogo} alt="Savant logo" width={45} height={45}/> */}
                        <p className="text-serif font-bold text-sm sm:text-lg text-red-600">
                            Software Architecture Analytics & Visualisation Team
                        </p>
                    </Link>
                </NavbarBrand>
            </NavbarContent>

            <NavbarContent
                justify="end"
                className="hidden md:flex gap-4 data-[justify=end]:flex-grow-0"
            >
                {props.menuItems !== undefined &&
                    props.menuItems.length == 0 &&
                    menuItems.map((item, index) => (
                        <NavbarItem key={`mnp${item}-${index}`}>
                            <Link
                                className="hover:text-red-600"
                                color="foreground"
                                href={item.route}
                            >
                                {item.name}
                            </Link>
                        </NavbarItem>
                    ))}

                {props.menuItems !== undefined &&
                    props.menuItems.length > 0 &&
                    props.menuItems.map((item, index) => (
                        <NavbarItem key={`mp${item}-${index}`}>
                            <Link
                                className="hover:text-red-600"
                                color="foreground"
                                href={item.route}
                            >
                                {item.name}
                            </Link>
                        </NavbarItem>
                    ))}
            </NavbarContent>

            <NavbarMenu>
                {props.menuItems == undefined &&
                    menuItems.map((item, index) => (
                        <NavbarMenuItem key={`np${item}-${index}`}>
                            <Link
                                color={'foreground'}
                                className="w-full hover:text-red-600"
                                href={item.route}
                                size="lg"
                            >
                                {item.name}
                            </Link>
                        </NavbarMenuItem>
                    ))}

                {props.menuItems !== undefined &&
                    props.menuItems.length > 0 &&
                    props.menuItems.map((item, index) => (
                        <NavbarMenuItem key={`p${item}-${index}`}>
                            <Link
                                color={'foreground'}
                                className="w-full hover:text-red-600"
                                href={item.route}
                                size="lg"
                            >
                                {item.name}
                            </Link>
                        </NavbarMenuItem>
                    ))}
            </NavbarMenu>
        </NextUINavbar>
    );
}
